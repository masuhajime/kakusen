System.register("chunks:///_virtual/World.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,o,i,r,c,s,a,g,l,d,h;return{setters:[function(e){t=e.inheritsLoose,n=e.defineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,r=e._decorator,c=e.PhysicsSystem2D,s=e.director,a=e.UITransform,g=e.Node,l=e.RigidBody2D,d=e.Vec2,h=e.Component}],execute:function(){var u;i._RF.push({},"43543aPdV1PeIA66lULYO4r","World",void 0);var p=r.ccclass;r.property,e("World",p("World")(u=function(e){function i(){for(var t,i=arguments.length,r=new Array(i),c=0;c<i;c++)r[c]=arguments[c];return t=e.call.apply(e,[this].concat(r))||this,n(o(t),"prefabBall",void 0),n(o(t),"rect",void 0),n(o(t),"nodeFingerRight",void 0),n(o(t),"nodeFingerLeft",void 0),t}return t(i,e),i.prototype.start=function(){var e=this;c.instance.enable=!0;var t=s.getScene().getChildByName("Canvas").getComponent(a);this.rect=t.getBoundingBox(),this.nodeFingerRight=this.node.getChildByPath("objects/finger-right/finger-0"),this.nodeFingerLeft=this.node.getChildByPath("objects/finger-left/finger-0"),this.node.on(g.EventType.TOUCH_MOVE,(function(t){switch(e.rect.width/2<t.getStartLocation().x?"right":"left"){case"left":e.nodeFingerLeft.getComponent(l).applyForceToCenter(t.getLocation().clone().subtract(t.getPreviousLocation()).multiply(new d(5e3,5e3)),!0);break;case"right":e.nodeFingerRight.getComponent(l).applyForceToCenter(t.getLocation().clone().subtract(t.getPreviousLocation()).multiply(new d(5e3,5e3)),!0)}}))},i}(h))||u);i._RF.pop()}}}));

System.register("chunks:///_virtual/Draggable.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var n,o,t,r,i,a,c,g;return{setters:[function(e){n=e.inheritsLoose,o=e.defineProperty,t=e.assertThisInitialized},function(e){r=e.cclegacy,i=e._decorator,a=e.Node,c=e.Vec3,g=e.Component}],execute:function(){var s;r._RF.push({},"9016bSCRklPebPPHojuEa9H","Draggable",void 0);var l=i.ccclass;i.property,e("Draggable",l("Draggable")(s=function(e){function r(){for(var n,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i))||this,o(t(n),"dragging",!1),n}return n(r,e),r.prototype.start=function(){var e=this;console.log("Draggable"),this.node.on(a.EventType.MOUSE_DOWN,(function(n){console.log("Node.EventType.TOUCH_START"),e.dragging=!0})),this.node.on(a.EventType.MOUSE_MOVE,(function(n){if(e.dragging){var o=n.getUILocation();e.node.setPosition(new c(o.x,o.y,0))}})),this.node.on(a.EventType.MOUSE_UP,(function(){console.log("Node.EventType.TOUCH_END"),e.dragging=!1}))},r}(g))||s);r._RF.pop()}}}));

System.register("chunks:///_virtual/SkinBase.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var o,e,i,t,s,d,a,r,l,p,h,c,C,u,y;return{setters:[function(n){o=n.inheritsLoose,e=n.defineProperty,i=n.assertThisInitialized},function(n){t=n.cclegacy,s=n._decorator,d=n.Vec3,a=n.Node,r=n.RigidBody2D,l=n.CircleCollider2D,p=n.SpringJoint2D,h=n.DistanceJoint2D,c=n.ERigidBody2DType,C=n.GraphicsComponent,u=n.Graphics,y=n.Component}],execute:function(){var v;t._RF.push({},"bb902ZcivBH0J+Emixv2sWK","SkinBase",void 0);var g=s.ccclass;s.property,n("SkinBase",g("SkinBase")(v=function(n){function t(){for(var o,t=arguments.length,s=new Array(t),d=0;d<t;d++)s[d]=arguments[d];return o=n.call.apply(n,[this].concat(s))||this,e(i(o),"nodesSkinCells",[]),e(i(o),"nodesSupportCells",[]),e(i(o),"nodesKakusen",[]),o}o(t,n);var s=t.prototype;return s.start=function(){var n=this,o=(this.node.getChildByName("points"),24),e=new d(-408,0,0),i=new a;i.setPosition(new d(0+e.x,-700+e.y,0)),this.nodesSkinCells.push(i);for(var t=0;t<35;t++){var s=new a;s.setPosition(new d(e.x+t*o,e.y,0)),this.nodesSkinCells.push(s)}var C=new a;C.setPosition(new d(e.x+816,-700+e.y,0)),this.nodesSkinCells.push(C);var u=19;this.nodesSkinCells[18].position=this.nodesSkinCells[18].position.add(new d(-12,0,0)),this.nodesSkinCells[19].position=this.nodesSkinCells[19].position.add(new d(.8*-24,0,0)),this.nodesSkinCells[20].position=this.nodesSkinCells[20].position.add(new d(24*.8,0,0)),this.nodesSkinCells[21].position=this.nodesSkinCells[21].position.add(new d(12,0,0));for(var y=this.nodesSkinCells[19].position.clone().add(this.nodesSkinCells[20].position),v=[[-40,-30],[-50,-80],[-60,-130],[-15,-150],[15,-150],[60,-130],[50,-80],[40,-30]],g=0;g<v.length;g++){var f=new a;f.setPosition(new d(y.x/2+v[g][0],y.y/2+v[g][1],y.z/2)),this.nodesSkinCells.splice(u+g+1,0,f)}for(var k=[[0,0],[-10,-30],[-20,-50],[-5,-70],[5,-70],[20,-50],[10,-30],[0,0]],m=0;m<k.length;m++){var S=new a;this.nodesKakusen.push(S),S.setPosition(y.clone().add(new d(k[m][0],k[m][1]-40))),S.addComponent(r).angularDamping=2;var w=S.addComponent(l);w.radius=24,w.friction=1,w.restitution=0}for(var x=0;x<this.nodesKakusen.length;x++){var B=this.nodesKakusen[x],P=x+1;P>=this.nodesKakusen.length&&(P=0);var R=this.nodesKakusen[P];B.addComponent(p).connectedBody=R.getComponent(r);var D=B.addComponent(h),K=d.distance(B.position,R.position);D.connectedBody=R.getComponent(r),D.maxLength=1.5*K}for(var L=0;L<this.nodesKakusen.length;L++)this.node.addChild(this.nodesKakusen[L]);for(var _=0;_<this.nodesSkinCells.length;_++){var E=this.nodesSkinCells[_],J=E.addComponent(r);J.fixedRotation=!0,J.type=c.Dynamic,J.group=1;var T=E.addComponent(l);T.radius=24,T.density=.1,T.friction=0,T.restitution=0;var q=new a,N=q.addComponent(r);N.type=c.Static,N.fixedRotation=!0;var b=q.addComponent(p);if(b.connectedBody=J,b.frequency=5,b.dampingRatio=2,E.addChild(q),this.node.addChild(E),0!=_){var z=E.addComponent(p),F=this.nodesSkinCells[_-1];z.connectedBody=F.getComponent(r);var G=E.addComponent(h);G.connectedBody=F.getComponent(r);var H=d.distance(E.position,F.position);G.autoCalcDistance=!1,G.maxLength=1.5*H}}for(var M=new d(144*Math.floor(2.5)*-1,-300,0),O=function(o){var e=new a,i=e.addComponent(r);e.setPosition(new d(M.x+144*o,M.y,M.z)),n.nodesSupportCells.push(e);var t=new a,s=t.addComponent(r);s.type=c.Static,s.fixedRotation=!0;var l=t.addComponent(p);l.connectedBody=i,l.frequency=2,l.dampingRatio=10,e.addChild(t),n.node.addChild(e),n.nodesSkinCells.forEach((function(n){var o=n.addComponent(p);o.connectedBody=e.getComponent(r),o.frequency=3,o.dampingRatio=1}))},U=0;U<5;U++)O(U)},s.drawPolygon=function(n,o,e){void 0===e&&(e=!1);var i=o.getComponent(C);i.miterLimit=1,i.lineCap=u.LineCap.ROUND,i.lineJoin=u.LineJoin.ROUND;e||i.clear(),i.moveTo(n[0].x+-0,n[0].y+-0);for(var t=1;t<n.length-1;t+=2)i.quadraticCurveTo(n[t].x,n[t].y,n[t+1].x,n[t+1].y);i.lineTo(n[n.length-1].x+-0,n[n.length-1].y+-0),i.close(),i.stroke(),i.fill()},s.update=function(n){var o=[];this.nodesSkinCells.forEach((function(n){o.push({x:n.position.x,y:n.position.y})})),this.drawPolygon(o,this.node.getChildByPath("graphic")),o=[],this.nodesKakusen.forEach((function(n){o.push({x:n.position.x,y:n.position.y})})),this.drawPolygon(o,this.node.getChildByPath("graphic_kakusen"))},t}(y))||v);t._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./World.ts","./Draggable.ts","./SkinBase.ts"],(function(){"use strict";return{setters:[null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});